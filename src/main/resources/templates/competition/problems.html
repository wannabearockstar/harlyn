<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
			xmlns:layout="http://www.ultraq.net.nz/web/thymeleaf/layout"
			layout:decorator="fragments/wrapper">
<head>
	<title>Harlyn - competition - problems</title>
</head>
<body>
<div layout:fragment="content" class="container">
	<h3 th:text="${competition.name + ': problem list'}">Problem list</h3>
	<table class="table table-hover">
		<thead>
		<tr>
			<th>Name</th>
			<th>Points</th>
			<th>Category</th>
			<th>Start date</th>
			<th>End date</th>
			<th>Solved by your team?</th>
		</tr>
		</thead>
		<tbody>
		<tr th:each="problem : ${competition.problems}">
			<td>
				<a th:href="@{'/problem/' + ${problem.id}}" th:text="${problem.name}"></a>
			</td>
			<td th:text="${problem.points}"></td>
			<td th:text="${problem.category != null}? ${problem.category.name} : 'None'"></td>
			<td
				th:text="${problem.startDate != null}? ${#dates.format(problem.startDate, T(com.harlyn.domain.problems.Problem).DATE_FORMAT)} : 'Unbounded'"></td>
			<td
				th:text="${problem.endDate != null}? ${#dates.format(problem.endDate, T(com.harlyn.domain.problems.Problem).DATE_FORMAT)} : 'Unbounded'"></td>
			<td th:if="${me.team.solvedProblems.contains(problem)}"
					th:text="Solved"
					class="alert alert-success"
			></td>
			<td th:unless="${me.team.solvedProblems.contains(problem)}"
					class="alert alert-info"
			>Not yet
			</td>
		</tr>
		</tbody>
	</table>
</div>
</body>
</html>